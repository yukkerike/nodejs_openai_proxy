Тестовое задание: Разработка API для использования текстовых нейросетей

Описание проекта
Необходимо разработать backend API для сервиса, предоставляющего доступ к текстовым нейросетям. API должно поддерживать работу с несколькими моделями, иметь внутреннюю валюту для учета расхода токенов.

Технический стек

-   Node.js
-   Язык: TypeScript
-   Express
-   PostgreSQL
-   Sequelize
-   JWT для аутентификации
-   Server-Sent Events (SSE) для стриминга ответов
-   Swagger для документации API

Функциональные требования

1. Аутентификация и авторизация

-   Реализовать регистрацию и аутентификацию пользователей.
-   Реализовать систему авторизации для доступа к текстовым нейросетям.
-   Выбор конкретных технологий и методов для реализации аутентификации и авторизации остается на усмотрение кандидата.

2. Поддержка нейросетевых моделей

-   Реализовать поддержку нескольких моделей через единый API.
-   Создать абстрактный слой для легкого добавления новых моделей.

3. Система биллинга

-   Реализовать внутреннюю валюту для учета расхода токенов (например: кредиты).
-   Рассчитывать стоимость генерации на основе использованных токенов. Учитывать, что цена токена для каждой модели может быть разной (например: gpt-4: 100 токенов = 20 кредитов, gemini-flash: 100 токенов = 10 кредитов).
-   Обновлять баланс пользователя после каждой генерации. После генерации баланс пользователя может становиться отрицательным.
-   Предотвращать генерацию при недостаточном балансе.
-   Реализовать эндпоинты для проверки баланса и обновления баланса пользователя (Можно добавить разные роли пользователей: клиент, админ. Админ может менять балансы).
-   Платежную систему подключать не нужно.

4. Streaming ответов

-   Использовать Server-Sent Events для стриминга ответов от нейросетей.
-   Обеспечить корректную обработку прерывания соединения.

5. Документация API

-   Разработать полную Swagger/OpenAPI спецификацию для всех эндпойнтов API.
-   Обеспечить возможность интерактивного тестирования API через Swagger UI.

Используйте наш OPEN AI совместимый API:

ключ OPEN AI API: "your_api_key"

Endpoint: https://bothub.chat/api/v2/openai/v1

# AI Text Service

Сервис API для работы с текстовыми нейросетями. Поддерживает несколько моделей, имеет внутреннюю валюту для учета токенов и стриминг ответов.

## Запуск

Для запуска сервиса выполните в корневой директории проекта:

```bash
OPENAI_API_KEY="your_api_key" docker-compose up
```
